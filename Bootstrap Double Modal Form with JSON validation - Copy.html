<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BS10</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
    
    <div class="container">
    <!------------------------------------ This is ADD & EDIT BUTTON ---------------------------------------------------->
        <h2 class="bg-info text-center">STUDENT DATA ENTRY</h2>
        <button class="btn btn-primary btn-lg" style="margin-left: 40%;" data-toggle="modal" data-target="#addpopup">ADD+</button>
        <button class="btn btn-warning btn-lg" data-toggle="modal" data-target="#editpopup">EDIT</button>
    
    <br>
    <br>

    <!------------------------------------ This is Table---------------------------------------------------------------->
    
     <table id="taccess" class="table table-bordered table-striped">
            <thead>
                <th>Name</th>
                <th>Age</th>
                <th>Rollnumber</th>
                <th>Email</th>
                <th>Address</th>
                <th>Gender</th>
                <th>Sports</th>
                <th>Fav.subject</th>
                <th>Actions</th>
            </thead>
            <tbody id="tbodyaccess">
    
            </tbody>
        </table>

    </div>

    <!------------------------------------ This is add form------------------------------------------------------------->
    <div class="container ">
        <div id="addpopup" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h3 class="text-center text-info">ADD FORM</h3>
                    </div>
                    <div class="modal-body">
                        <form action="" id="add_faccess">
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="">Name:</label>
                                    <input type="text" class="form-control" placeholder="Enter your name" id="addname">
                                    <div id="addnameerror" class="text-danger"></div>
                                </div>
                                <div class="col-md-4">
                                    <label for="">Age:</label>
                                    <input type="number" class="form-control" placeholder="Enter your age" id="addage">
                                    <div id="addageerror" class="text-danger"></div>
                                </div>
                                <div class="col-md-4">
                                    <label for="">RollNumber:</label>
                                    <input type="text" class="form-control" placeholder="Enter your rollno" id="addrollno" name="rollno">
                                    <div id="addrollnoerror" class="text-danger"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="">Email:</label>
                                    <input type="email" class="form-control" placeholder="Enter your email" id="addmail">
                                    <div id="addmailerror" class="text-danger"></div>
                                </div>
                                <div class="col-md-6">
                                    <label for="">Address:</label>
                                    <textarea class="form-control" placeholder="Enter your address" id="addadd"></textarea>
                                    <div id="addadderror" class="text-danger"></div>
                                </div>
                            </div>
                            <div class="row">
                                
                                <div class="col-md-12">
                                    <label for="">Gender:</label>
                                    <input type="radio" class="form-check-input" name="addgender" value="male">
                                    <label for="">Male</label>
                                    <input type="radio" class="form-check-input" name="addgender" value="female">
                                    <label for="">Female</label>
                                    <input type="radio" class="form-check-input" name="addgender" value="others">
                                    <label for="">Others</label>
                                    <div id="addgendererror" class="text-danger"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label for="">Sports:</label>
                                    <input type="checkbox" class="form-check-input" name="addsport" value="cricket">
                                    <label for="">Cricket</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="addsport" value="volleyball">
                                    <label for="">volleyball</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="addsport" value="Tabletennis">
                                    <label for="">Tabletennis</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="addsport" value="Football">
                                    <label for="">Football</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="addsport" value="Basketball">
                                    <label for="">Basketball</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="addsport" value="Hockey">
                                    <label for="">Hockey</label>
                                </div>
                                <div id="addsporterror" class="text-danger" style="margin-left: 15px;"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label for="">Select your favourite subject:</label>
                                    <select class="form-select" aria-label="Default select example" name="addsubjects">
                                        <option selected value="select" name="addsub">--select--</option>
                                        <option value="Tamil" name="addsub">Tamil</option>
                                        <option value="English" name="addsub">English</option>
                                        <option value="Maths" name="addsub">Mathematics</option>
                                        <option value="Science" name="addsub">Science</option>
                                        <option value="SocialScience" name="addsub">S.Science</option>
                                      </select>
                                      <div id="addsubjectserror" class="text-danger"></div>
                            </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <button type="button" class="btn btn-primary" onclick="addformsubmit()">SUBMIT</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    <!------------------------------------ This is edit form ----------------------------------------------------------->
        <div id="editpopup" class="modal fade" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h3 class="text-center text-warning">EDIT FORM</h3>
                    </div>
                    <div class="modal-body">
                        <form action="" id="ed_faccess">
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="">Name:</label>
                                    <input type="text" class="form-control" placeholder="Enter your name" id="edname">
                                    <div id="ednameerror" class="text-danger"></div>
                                </div>
                                <div class="col-md-4">
                                    <label for="">Age:</label>
                                    <input type="number" class="form-control" placeholder="Enter your age" id="edage">
                                    <div id="edageerror" class="text-danger"></div>
                                </div>
                                <div class="col-md-4">
                                    <label for="">RollNumber:</label>
                                    <input type="text" class="form-control" placeholder="Enter your rollno" id="edrollno" name="rollno">
                                    <div id="edrollnoerror" class="text-danger"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="">Email:</label>
                                    <input type="email" class="form-control" placeholder="Enter your email" id="edmail">
                                    <div id="edmailerror" class="text-danger"></div>
                                </div>
                                <div class="col-md-6">
                                    <label for="">Address:</label>
                                    <textarea class="form-control" placeholder="Enter your address" id="edadd"></textarea>
                                    <div id="edadderror" class="text-danger"></div>
                                </div>
                            </div>
                            <div class="row">
                                
                                <div class="col-md-12">
                                    <label for="">Gender:</label>
                                    <input type="radio" class="form-check-input" name="edgender" value="male">
                                    <label for="">Male</label>
                                    <input type="radio" class="form-check-input" name="edgender" value="female">
                                    <label for="">Female</label>
                                    <input type="radio" class="form-check-input" name="edgender" value="others">
                                    <label for="">Others</label>
                                    <div id="edgendererror" class="text-danger"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label for="">Sports:</label>
                                    <input type="checkbox" class="form-check-input" name="edsport" value="cricket">
                                    <label for="">Cricket</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="edsport" value="volleyball">
                                    <label for="">volleyball</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="edsport" value="Tabletennis">
                                    <label for="">Tabletennis</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="edsport" value="Football">
                                    <label for="">Football</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="edsport" value="Basketball">
                                    <label for="">Basketball</label>
                                </div>
                                <div class="col-md-2">
                                    <input type="checkbox" class="form-check-input" name="edsport" value="Hockey">
                                    <label for="">Hockey</label>
                                </div>
                                <div id="edsporterror" class="text-danger" style="margin-left: 15px;"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label for="">Select your favourite subject:</label>
                                    <select class="form-select" aria-label="Default select example" name="edsubjects">
                                        <option selected value="select" name="edsub">--select--</option>
                                        <option value="Tamil" name="edsub">Tamil</option>
                                        <option value="English" name="edsub">English</option>
                                        <option value="Maths" name="edsub">Mathematics</option>
                                        <option value="Science" name="edsub">Science</option>
                                        <option value="SocialScience" name="edsub">S.Science</option>
                                      </select>
                                      <div id="edsubjectserror" class="text-danger"></div>
                            </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <button type="button" class="btn btn-success" onclick="edformsubmit()">UPDATE</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div> 
        </div>

    </div>
    <script>
        // -----------------------------------------ADD form submit-----------------------------------------------------//
function addformsubmit(){
    var addform=document.getElementById('add_faccess');
    
    var addforminfo = validation(addform);

    if((!addforminfo.name=="")&& (!addforminfo.age=="") &&  (!addforminfo.email=="")&& (!addforminfo.rollno=="") && (!addforminfo.address=="") && (!addforminfo.gender=="") && (!addforminfo.sports=="")&&(!addforminfo.subject=="")){
        console.log("hello")
        arrayfun(addforminfo);
        tableinsert();
        document.getElementById("add_faccess").reset();
        alert("Data's are successfully inserted in a table");
    }
    }
//---------------------------------------------EDIT form submit---------------------------------------------------//
    function edformsubmit(){
        var edform=document.getElementById("ed_faccess");

        var edforminfo=validation(edform);
        if((!edforminfo.name=="")&& (!edforminfo.age=="") && (!edforminfo.rollno=="") && (!edforminfo.email=="") && (!edforminfo.address=="") && (!edforminfo.gender=="") && (!edforminfo.sports=="")&&(!edforminfo.subject=="")){
            onUpdate();
            alert("Data updated successfully on Table!.");
    }
    else{
        if(tval==""){
            alert("You can't directly insert a table value here. Please use Add button to insert values");
        }
    }

    }

//----------------------------------------- JSON ERROR-----------------------------------------------------//
        var errors={
            "name":{
                "required":{"msg":"Name field will not be empty"},
                "minlength":{
                    "val":4, 
                    "msg":"Minimum 4 characters is required"},
                "maxlength":{
                    "val":25, 
                    "msg":"Maximum 25 characters only allowed"},
                "pattern":{
                    "val":/^[A-Za-z\.]+$/, 
                    "msg":"Enter valid data(Alphabets only! No space allowed)"}
            },
            "age":{
                "required":{"msg":"Age field will not be empty"},
                "minchar":{
                    "val":1,
                    "msg":"minimum 1 character is required"
                },
                "maxchar":{
                    "val":3,
                    "msg":"Maximum 3 characters is allowed(upto 100)"
                },
                "pattern":{
                    "val":/^[0-9]+$/,
                    "msg":"Enter a valid age(5-100 only!)"
                }
            },
            "rollno":{
                "required":{"msg":"RollNumber field will not be empty"},
                "minlength":{
                    "val":6,
                    "msg":"Minimum 6 characters is required"
                },
                "maxlength":{
                    "val":6,
                    "msg":"Maximum 6 characters is allowed"
                },
                "pattern":{
                    "val":/^[a-zA-z0-9]+$/,
                    "msg":"Enter a valid data (Alphabets and number only! No empty space)"
                }
            },
            "email":{
                "required":{"msg":"Email field will not be empty"},
                "minlength":{
                    "val":15,
                    "msg":"Minimum 15 characters is required"
                },
                "maxlength":{
                    "val":40,
                    "msg":"Maximum 40 characters is allowed"
                },
                "pattern":{
                    "val":/^[a-z0-9]+@[a-z0-9-]+(?:\.[a-z0-9-]+)$/,
                    "msg":"Enter a valid mail(by using a-z, 0-9, @ . only! )"
                }
            },
            "add":{
                "required":{"msg":"Address field will not be empty"},
                "pattern":{
                    "val":/^[A-Za-z0-9 \.\/\,]+$/,
                    "msg":"A-Z,a-z,0-9, space and / only allowed"}
            },
            "radio":{
                "required":{"msg":"Please select your gender"}
            },
            "checkbox":{
                "required":{"msg":"Please select your favourite sports"}
            },
            "dropdown":{
                "required":{"msg":"Please select your fav. subject"}
            }


        }

// -----------------------------------------ADD & EDIT form validation--------------------------------------------------//
    function validation(form_id){

        var student={};

        var loop=form_id;

        var key = Object.keys(errors);
        // console.log(key);
       


        for(var i=0; i<loop.length; i++){
            var getform=loop.elements[i];

            var id_s = getform.id;

            var name_s = getform.name;
            // console.log(name_s);

            for(var j=0; j<key.length; j++){
                var getkey=Object.keys(errors[key[j]])
                // console.log(getkey)
                for(var k=0; k<getkey.length; k++){
                    var getval = Object.values(errors);
                
                // console.log(getval)
                if(getform.type=="text"){
                    var txtval = getform.value;
                    // console.log(txtval);
                    
                if(txtval.match(getval[i].pattern.val)){
                        
                        if(getkey[k]){
                            if( txtval.length<getval[i].minlength.val && txtval.length>i){

                                document.getElementById(id_s+"error").innerHTML=errors.name.minlength.msg;
                            }
                        }
                        if(getkey[k]){
                            if(txtval.length>getval[i].maxlength.val){
                                document.getElementById(id_s+"error").innerHTML=errors.name.maxlength.msg;
                            }
                        }
                        if(getkey[k]){
                            if(txtval.length>=getval[i].minlength.val && txtval.length<getval[i].maxlength.val){
                            document.getElementById(id_s+"error").innerHTML="";
                            console.log("namematch")
                            student.name=txtval;
                            }
                        }  
                }
                else if(txtval.match(getval[i].pattern.val)){
                    if(getkey[k]){
                        if(txtval.length<getval[i].minlength.val && txtval.length>i){
                            document.getElementById(id_s+"error").innerHTML=errors.rollno.minlength.msg;
                        }
                    }
                    if(getkey[k]){
                        if(txtval.length>getval[i].maxlength.val){
                            document.getElementById(id_s+"error").innerHTML=errors.rollno.maxlength.msg;
                        }
                    }
                    if(getkey[k]){
                        if(txtval.length==getval[i].minlength.val && txtval.length>i){
                        document.getElementById(id_s+"error").innerHTML="";
                        student.rollno=txtval
                        }
                    }
                }
                else if(txtval.length==0){
                    document.getElementById(id_s+"error").innerHTML=getval[i].required.msg;
                }
                else{
                    // console.log("error")
                    document.getElementById(id_s+"error").innerHTML=getval[i].pattern.msg;
                    
                }
                    
                }

                if(getform.type=="number"){
                    var ageval = getform.value;

                    
                if(getkey[k]){
                    if(ageval==""){
                        document.getElementById(id_s+"error").innerHTML=errors.age.required.msg;
                    }
                }

                if(getkey[k]){
                    if(ageval.length>getval[i].maxchar.val){
                        document.getElementById(id_s+"error").innerHTML=errors.age.maxchar.msg;
                    }
                }

                if(getkey[k]){
                    if((ageval.length>=getval[i].minchar.val) && (ageval.length<=getval[i].maxchar.val)){
                    if(ageval<=100 && ageval>=5){
                        if(ageval.match(getval[i].pattern.val)){
                            document.getElementById(id_s+"error").innerHTML="";
                            student.age=ageval;
                        }
                    }
                    else{
                        document.getElementById(id_s+"error").innerHTML=errors.age.pattern.msg;
                    }
                    }
                }
                }
            

            if(getform.type=="email"){
                var mailvalue = getform.value;
                
            
            if(getkey[k]){
                if(mailvalue==""){
                    document.getElementById(id_s+"error").innerHTML=errors.email.required.msg;
                }
            }
                
            if(getkey[k]){    
                if(mailvalue.length<getval[i].minlength.val && mailvalue.length>i){
                    document.getElementById(id_s+"error").innerHTML=errors.email.minlength.msg;
                }
            }
                
            if(getkey[k]){    
                if(mailvalue.length>getval[i].maxlength.val){
                    document.getElementById(id_s+"error").innerHTML=errors.email.maxlength.msg;
                 }
            }
                
            if(getkey[k]){    
                if(mailvalue.length>=getval[i].minlength.val && mailvalue.length<=getval[i].maxlength.val){
                    if(mailvalue.match(getval[i].pattern.val)){
                        document.getElementById(id_s+"error").innerHTML="";
                        student.email=mailvalue;
                    }
                    else{
                        document.getElementById(id_s+"error").innerHTML=errors.email.pattern.msg;
                    }
                }
            }   
            }

            if(getform.type=="textarea"){
                var addvalue = getform.value;
                //console.log(addvalue);
                
            if(getkey[k]){
                if(addvalue==""){
                    document.getElementById(id_s+"error").innerHTML=errors.add.required.msg;
                    }
            }
            
            if(getkey[k]){    
                if(addvalue.length>i){
                    if(addvalue.match(getval[i].pattern.val)){
                     document.getElementById(id_s+"error").innerHTML="";
                     student.address=addvalue;
                    }
                    else{
                     document.getElementById(id_s+"error").innerHTML=errors.add.pattern.msg;
                    }
                }
            } 
            }

            if(getform.type=="radio"){
                var radios = document.getElementsByName(name_s);
                // console.log(radios);
                for(var l=0; l<radios.length; l++){
                    if(getkey[k]){
                        if(radios[l].checked){
                            var rval = radios[l].value;
                            document.getElementById(name_s+"error").innerHTML="";
                            student.gender=rval;
                           // console.log(rval);
                            break;
                        }
                        else{
                            document.getElementById(name_s+"error").innerHTML=errors.radio.required.msg;
                        }
                    }
                    
                }

            }

            if(getform.type=="checkbox"){
                var cbox = document.getElementsByName(name_s);
                // console.log(cbox)
                var carray=[];
                var status=false;
                for(var m=0; m<cbox.length; m++){
                    if(getkey[k]){
                        if(cbox[m].checked){
                            status=true;
                            carray.push(cbox[m].value)
                            student.sports=carray;
                            //console.log(carray);
                        }
                        else{
                            if(status==true){
                                document.getElementById(name_s+"error").innerHTML="";
                            }
                            else{
                                document.getElementById(name_s+"error").innerHTML=errors.checkbox.required.msg;
                            }
                            
                        }
                    }
                    
                }
                
            }

            if(getform.name=="addsubjects"){
                var dropdown = document.getElementsByName("addsub");
                // console.log(dropdown);
                var frstval = document.getElementsByName("addsub")[0].value;
//                        console.log(frstval)
                for(var n=0; n<dropdown.length; n++){
                if(getkey[k]){
                    if(dropdown[n].selected){
                        var dropval=dropdown[n].value;
                        student.subject = dropval;
                        document.getElementById(name_s+"error").innerHTML="";
                        //console.log(dropval);
                    }
                    else{
                        if(frstval==dropval){
                            document.getElementById(name_s+"error").innerHTML=errors.dropdown.required.msg;
                        }
                    }
                }
                
                }
            }
            else if(getform.name=="edsubjects"){
                var eddropdown = document.getElementsByName("edsub");
                // console.log(dropdown);
                var edfrstval = document.getElementsByName("edsub")[0].value;
//                        console.log(frstval)
                for(var n=0; n<eddropdown.length; n++){
                  if(getkey[k]){    
                    if(eddropdown[n].selected){
                        var eddropval=eddropdown[n].value;
                        student.subject = eddropval;
                        document.getElementById(name_s+"error").innerHTML="";
                        //console.log(dropval);
                    }
                    else{
                        if(edfrstval==eddropval){
                            document.getElementById(name_s+"error").innerHTML=errors.dropdown.required.msg;
                        }
                    }
                }
                
                }
            }
            }
           }
        }
        return student; 
    }
//----------------------------------------ARRAY PUSH--------------------------------------------------------------//
    var array=[];
    function arrayfun(student){
       
        array.push(student);
        console.log(array);

    }


    //----------------------------------------------TABLE INSERT-----------------------------------------------------//

        function tableinsert(){
            
            var table=document.getElementById("tbodyaccess");
            table.innerHTML="";

            var table = document.getElementById("tbodyaccess");
            

            for(var i=0; i<array.length; i++){
                var row = table.insertRow(table.length);

                var cell0 = row.insertCell(0);
                cell0.innerHTML=array[i].name;

                var cell1 = row.insertCell(1);
                cell1.innerHTML=array[i].age;

                var cell2 = row.insertCell(2);
                cell2.innerHTML=array[i].rollno;


                var cell3 = row.insertCell(3);
                cell3.innerHTML=array[i].email;

                var cell4 = row.insertCell(4);
                cell4.innerHTML=array[i].address;

                var cell5 = row.insertCell(5);
                cell5.innerHTML=array[i].gender;

                var cell6 = row.insertCell(6);
                cell6.innerHTML=array[i].sports;

                var cell7=row.insertCell(7);
                cell7.innerHTML=array[i].subject;

                var cell8 = row.insertCell(8);
                cell8.innerHTML="<button  class='btn btn-info' onclick='onEdit(this)'>Edit</button> <button class='btn btn-danger' onclick='onDelete(this)'>Delete</button>"
            }
        }

// -----------------------------------------onEdit-----------------------------------------------------//
        var tval="";
        function onEdit(td){
            document.getElementById("add_faccess").reset();

            tval = td.parentElement.parentElement;
            // console.log(tval);

            document.getElementById("edname").value=tval.cells[0].innerHTML;
            document.getElementById("edage").value=tval.cells[1].innerHTML;
            document.getElementById("edrollno").value=tval.cells[2].innerHTML;
            document.getElementById("edmail").value=tval.cells[3].innerHTML;
            document.getElementById("edadd").value=tval.cells[4].innerHTML;
            var radioval = tval.cells[5].innerHTML;

            var radio = document.getElementsByName("edgender");
            for(let i=0; i<radio.length; i++){
                if(radioval==radio[i].value){
                    radio[i].checked=true;
                }
            }

            var cboxval = tval.cells[6].innerHTML;

            var cbox = document.getElementsByName("edsport");
            var sportary = cboxval.split(",");

            for(let j=0; j<cbox.length; j++){
                for(let k=0; k<sportary.length; k++){
                    if(sportary[k]==cbox[j].value){
                        cbox[j].checked=true;
                    }
                }
            }

            var favsub = tval.cells[7].innerHTML;
            // console.log("favsub"+favsub)

            var sub = document.getElementsByName("edsub");
            // console.log(sub);

            for(let l=0; l<sub.length; l++){
                if(favsub==sub[l].value){
                    sub[l].selected=true;
                }
            }
           
        }


// -----------------------------------------onDelete-----------------------------------------------------//
        function onDelete(td){
            var rowdel = td;
            document.getElementById("tbodyaccess").deleteRow(rowdel.rowIndex);

            var rowdelary=td.parentElement.parentElement;
            var rollnoget = rowdelary.cells[2].innerHTML;
            // console.log(rollnoget);

            for(let i=0; i<array.length; i++){
                var aryrlno = array[i].rollno;
                // console.log(aryrlno);
                if(rollnoget==aryrlno){
                    // console.log("in")
                    array.splice(rowdelary.rowIndex,1);
                    alert("Table has been Deleted successfully!");
                    // console.log("out");
                    console.log(array);
                }
            }
            tableinsert();
            
        }

//----------------------------------------UPDATE METHOD----------------------------------------------------------//
        function onUpdate(){
           
           let get1 = document.getElementById("edname").value;
           let get2 = document.getElementById("edage").value;
           let get3 = document.getElementById("edrollno").value;
           let get4 = document.getElementById("edmail").value;
           let get5 = document.getElementById("edadd").value;
           var r = document.getElementsByName("edgender");

               for(let j=0; j<r.length; j++){
                   if(r[j].checked){
                      let edrval = r[j].value;
                      var get6 = edrval;
                   }
               }

           var c = document.getElementsByName("edsport");
           var carrayed=[];

           for(let k=0; k<c.length; k++){
           if(c[k].checked){
               carrayed.push(c[k].value);
               var get7=carrayed;
              }
           }

           var d = document.getElementsByName("edsub");
           for(let l=0; l<d.length; l++){
                   if(d[l].selected){
                      let eddval = d[l].value;
                      var get8 = eddval;
                   }
               }

           for(let i=0; i<array.length; i++){
               if(array[i].rollno==get3){
                   array[i].name=get1;
                   array[i].age=get2;
                   array[i].rollno=get3;
                   array[i].email=get4;
                   array[i].address=get5;
                   array[i].gender=get6;
                   array[i].sports=get7;
                   array[i].subject=get8;

                   console.log(array);
               }
           }

           tval.cells[0].innerHTML=get1;
           tval.cells[1].innerHTML=get2;
           tval.cells[2].innerHTML=get3;
           tval.cells[3].innerHTML=get4;
           tval.cells[4].innerHTML=get5;
           tval.cells[5].innerHTML=get6;
           tval.cells[6].innerHTML=get7;
           tval.cells[7].innerHTML=get8;
           document.getElementById("ed_faccess").reset();
           
           
       }
    </script>